<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="utf-8">
    <title>Formularze</title>
    <style>
        table, td {border: 1px solid #000; border-collapse: collapse; width: 600px;}
        textarea {width: 100%; height: 150px;}
    </style>
</head>
<body>

    <h1>Formularze</h1>
    <form name="mojFormularz" action="" method="post">
        <table>
            <tr>
                <th colspan="3">Ankieta</th>
            </tr>
            <tr>
                <td>Imię</td>
                <td>&nbsp;</td>
                <td><input type="text" id="imie" name="Imię" onblur="this.value = this.value.charAt(0).toUpperCase() + this.value.slice(1).toLowerCase();"></td>
            </tr>
            <tr>
                <td>Nazwisko</td>
                <td>&nbsp;</td>
                <td><input type="text" id="nazwisko" name="nazwisko" onblur="this.value = this.value.charAt(0).toUpperCase() + this.value.slice(1).toLowerCase();"></td>
            </tr>
            <tr>
                <td>Płeć</td>
                <td>&nbsp;</td>
                <td>
                    <input type="radio" name="plec" value="Mężczyzna"> M <br>
                    <input type="radio" name="plec" value="Kobieta"> K
                </td>
            </tr>
            <tr>
                <td>Wykształcenie</td>
                <td>&nbsp;</td>
                <td>
                    <select id="wyksztalcenie" name="darmowyPrezent">
                        <option value="">-- Wybierz --</option>
                        <option value="Podstawowe">Podstawowe</option>
                        <option value="Średnie">Średnie</option>
                        <option value="Licencjat">Licencjat</option>
                        <option value="Inżynierskie">Inżynierskie</option>
                        <option value="Wyższe">Wyższe</option>
                    </select>
                </td>
            </tr>
			<tr>
				<td>Ulica</td>
				<td>&nbsp;</td>
				<td><input type="text" id="street" placeholder="Ulica"></td>
			</tr>

				<tr>
					<td>numer</td>
					<td>			<button onclick="showAddress()">Pokaż adres</button>
						<script>
							function showAddress() {
								let street = document.getElementById("street").value;
								let number = document.getElementById("number").value;
								alert("ul. " + street + " " + number);
							}
						</script></td>
					<td><input type="text" id="number" placeholder="Numer"></td>
				</tr>
            <tr>
                <td>Kod pocztowy</td>
                <td>&nbsp;</td>
                <td><input type="text" id="kod" name="kod" placeholder="__-___" maxlength="6" oninput="this.value = this.value.replace(/\D/g, '').replace(/^(\d{2})(\d*)/, '$1-$2')"></td>
            </tr>
            <tr>
                <td>Miejscowość</td>
                <td>&nbsp;</td>
                <td><input type="text" id="miejscowosc" name="miejscowosc"></td>
            </tr>
            <tr>
                <td>Wiek</td>
                <td>&nbsp;</td>
                <td><input type="number" id="wiek" name="ilosc" max="111" min="1"></td>
            </tr>
            <tr>
                <td>Numer Telefonu</td>
                <td>&nbsp;</td>
                <td><input type="tel" id="phone" name="phone" placeholder="+XX YYY YYY YYY"></td>
            </tr>
            <tr>
                <td>Email</td>
                <td>&nbsp;</td>
                <td><input type="email" id="email"></td>
            </tr>
            <tr>
                <td>&nbsp;</td>
                <td>&nbsp;</td>
                <td><input type="button" value="Wyślij formularz" onclick="pokazPodsumowanie()"></td>
            </tr>
            <tr>
                <td>&nbsp;</td>
                <td>&nbsp;</td>
                <td><input type="button" value="Zresetuj" onclick="resetForm()"></td>
            </tr>
        </table>
    </form>

    <h2>Podsumowanie</h2>
    <textarea id="podsumowanie" readonly></textarea>

    <script>
        function pokazPodsumowanie() {
            let imie = document.getElementById("imie").value;
            let nazwisko = document.getElementById("nazwisko").value;
            let plec = document.querySelector('input[name="plec"]:checked')?.value;
            let wyksztalcenie = document.getElementById("wyksztalcenie").value;
            let ulica = document.getElementById("street").value;
            let numer = document.getElementById("number").value;
            let kod = document.getElementById("kod").value;
            let miejscowosc = document.getElementById("miejscowosc").value;
            let wiek = document.getElementById("wiek").value;
            let telefon = document.getElementById("phone").value;
            let email = document.getElementById("email").value;

            let brakujacePola = [];
            if (!imie) brakujacePola.push("Imię");
            if (!nazwisko) brakujacePola.push("Nazwisko");
            if (!plec) brakujacePola.push("Płeć");
            if (!wyksztalcenie) brakujacePola.push("Wykształcenie");
            if (!ulica) brakujacePola.push("Ulica");
            if (!numer) brakujacePola.push("Numer domu");
            if (!kod) brakujacePola.push("Kod pocztowy");
            if (!miejscowosc) brakujacePola.push("Miejscowość");
            if (!wiek) brakujacePola.push("Wiek");
            if (!telefon) brakujacePola.push("Numer telefonu");
            if (!email) brakujacePola.push("Email");

            if (brakujacePola.length > 0) {
                alert("Proszę uzupełnić następujące pola:\n" + brakujacePola.join(", "));
                return;
            }

            let tekstPodsumowania = `Dane z formularza:
Imię: ${imie}
Nazwisko: ${nazwisko}
Płeć: ${plec}
Wykształcenie: ${wyksztalcenie}
Adres: ul. ${ulica} ${numer}, ${kod} ${miejscowosc}
Wiek: ${wiek}
Telefon: ${telefon}
Email: ${email}`;

            document.getElementById("podsumowanie").value = tekstPodsumowania;
        }

        function resetForm() {
            document.mojFormularz.reset();
            document.getElementById("podsumowanie").value = "";
        }
    </script>

</body>
</html>
